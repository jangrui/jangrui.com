---
title: 基本概念
date: 2020-10-23 17:51:46
permalink: /pages/527279/
categories:
  - 学习
  - Elasticsearch
tags:
  - Elasticsearch
---
## ElasticSearch

>Elasticsearch 是基于JSON的分布式搜索和分析引擎，是利用倒排索引实现的全文索引。

### 优势
- 横向可扩展性: 增加服务器可直接配置在集群中
- 分片机制提供更好的分布性: 分而治之的方式来提升处理效率
- 高可用: 提供复制（replica）机制
- 实时性: 通过将磁盘上的文件放入文件缓存系统来提高查询速度

### 基本概念
- Index: 一系列文档的集合，类似于mysql中数据库的概念
- Type: 在Index里面可以定义不同的type，type的概念类似于mysql中表的概念，是一系列具有相同特征数据的结合。
- Document: 文档的概念类似于mysql中的一条存储记录，并且为json格式，在Index下的不同type下，可以有许多document。
- Shards: 在数据量很大的时候，进行水平的扩展，提高搜索性能
- Replicas: 防止某个分片的数据丢失，可以并行在备份数据里及搜索提高性能

### Cluster

 　　代表一个集群，集群中有多个节点，其中有一个为主节点，这个主节点是可以通过选举产生的，主从节点是对于集群内部来说的。es的一个概念就是去中心化，字面上理解就是无中心节点，这是对于集群外部来说的，因为从外部来看es集群，在逻辑上是个整体，你与任何一个节点的通信和与整个es集群通信是等价的。

### Shards

- 代表索引分片，es可以把一个完整的索引分成多个分片，这样的好处是可以把一个大的索引拆分成多个，分布到不同的节点上。构成分布式搜索。分片的数量只能在索引创建前指定，并且索引创建后不能更改。

### replicas

- 代表索引副本，es可以设置多个索引的副本，副本的作用一是提高系统的容错性，当某个节点某个分片损坏或丢失时可以从副本中恢复。二是提高es的查询效率，es会自动对搜索请求进行负载均衡。

### Recovery

- 代表数据恢复或叫数据重新分布，es在有节点加入或退出时会根据机器的负载对索引分片进行重新分配，挂掉的节点重新启动时也会进行数据恢复。

